### vite核心概念
Vite是一个新型的前端构建工具，它在开发和构建过程中都显著提高了效率，它的核心思想是bundless,即在开发阶段不进行打包操作，而是利用浏览器原生ES模块（ESM）支持来实现按需加载。
1. 快速启动
    * vite的设计初衷是加速开发服务器的启动过程，传统的构建工具在启动时通常需要预先构建整个项目，这会导致启动时间长，特别是对于大型项目，vite则利用浏览器原生的ESM模块支持，按需加载模块
2. 即时热更新（HMR）
    * 模块热替换是Vite提供的一项关键功能，当代码发生变化时，它可以在不刷新整个页面的情况下，只替换修改的模块
3. 原生ESM
    * vite利用了现代浏览器对ES模块的原生支持，在开发模式下直接使用ESM来加载模块，而不需要打包，这不仅提高了开发速度，还简化了模块化开发的复杂性
4. 插件体系
    * vite拥有基于Rollup的插件系统，插件可以用来扩展vite功能，如处理不同类型的文件，引入额外的编译步骤等
5. 按需编译
    * Vite 在开发模式下仅在模块被实际请求时才进行编译，这种按需编译的策略避免了不必要的工作，进一步加快了开发体验。
6. 生产构建优化
    * 虽然 Vite 主要优化了开发体验，但在生产模式下，它使用 Rollup 进行打包。Rollup 是一个强大的模块打包工具，专注于优化输出文件的大小和性能。
7. 环境变量
    *  Vite 支持使用 **.env**文件来管理环境变量，开发者可以根据不同的环境配置变量，并在代码中引用。
8. 现代浏览器支持
    * vite专注于支持现代浏览器，而不是花费大量精力去支持老旧的浏览器如IE11。这使得它能够利用现代浏览器的最新特性，进一步提升性能和开发体验。


### vite为什么开发环境用esbuild，线上构建用rollup？
vite在开发环境使用esbuild，而在生产环境使用rollup，这是基于两者的特性和设计目标所在的权衡和选择
1. esbuild的优势
    * esbuild 是一个极其快速的 JavaScript 和 TypeScript 打包工具，它的主要特点是使用 Go 语言编写，速度比传统的 JavaScript 打包工具（如 Webpack 和 Rollup）快数十倍。这种速度优势主要体现在以下几个方面：
        * 并行编译：esbuild 利用 Go 语言的并发性，可以在多核 CPU 上高效地并行编译代码。
        * 优化算法：esbuild 采用了高度优化的算法，在处理代码的解析和转换时更加高效。
2. rollup的灵活性和生产构建优化
    *  esbuild在速度上有显著优势，但在生产环境中，代码的质量和优化程度通常比构建速度更为重要。 rollup在这些方面有着独特的优势
        * tree-shaking：rollup以其卓越的 tree-shaking 功能而闻名。它能够准确地分析代码的依赖关系，并移除未使用的代码，这对于生成更小、更高效的生产包至关重要。
        * 插件生态：rollup拥有一个成熟且广泛的插件生态系统，允许开发者进行各种复杂的构建任务，如代码拆分、静态资源处理、环境变量注入等。它的插件机制非常灵活，能够满足不同项目的需求。
        * 代码拆分：在生产环境中，代码拆分（Code Splitting）是一个重要的优化策略。rollup对于代码拆分的支持更加成熟，可以更好地为现代应用程序生成优化的 bundle。
3. 平衡速度与功能
    * vite通过在开发环境使用 esbuild 和在生产环境使用rollup，在开发速度和生产构建质量之间达成了良好的平衡
        * vite选择在开发环境和生产环境使用不同的构建工具，这也反应了一种现代前端开发工具的设计趋势，即将开发流程和生产流程分离开来，开发阶段重视速度和反馈，而生产阶段重视优化和性能，这种分离使得vite能够充分利用各自工具的优势，提供最优的开发和构建工具

